{"ast":null,"code":"import { inject } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Router, RouterLink } from '@angular/router';\nimport { CartService } from '../../services/cart.service';\nimport { ToastService } from '../../services/toast.service';\nimport * as i0 from \"@angular/core\";\nconst _forTrack0 = ($index, $item) => $item.id;\nfunction CartComponent_Conditional_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"p\", 3);\n    i0.ɵɵtext(2, \" Your cart is empty \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"a\", 4);\n    i0.ɵɵtext(4, \"Continue Shopping\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction CartComponent_Conditional_6_For_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵelement(1, \"img\", 13);\n    i0.ɵɵelementStart(2, \"div\", 14)(3, \"h3\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\", 15);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 16)(8, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function CartComponent_Conditional_6_For_2_Template_button_click_8_listener() {\n      const item_r3 = i0.ɵɵrestoreView(_r2).$implicit;\n      const ctx_r3 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r3.updateQuantity(item_r3, -1));\n    });\n    i0.ɵɵtext(9, \"\\u2212\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"span\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function CartComponent_Conditional_6_For_2_Template_button_click_12_listener() {\n      const item_r3 = i0.ɵɵrestoreView(_r2).$implicit;\n      const ctx_r3 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r3.updateQuantity(item_r3, 1));\n    });\n    i0.ɵɵtext(13, \"+\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"div\", 18)(15, \"strong\");\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function CartComponent_Conditional_6_For_2_Template_button_click_17_listener() {\n      const item_r3 = i0.ɵɵrestoreView(_r2).$implicit;\n      const ctx_r3 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r3.removeItem(item_r3));\n    });\n    i0.ɵɵtext(18, \"Remove\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r3 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"src\", item_r3.image, i0.ɵɵsanitizeUrl)(\"alt\", item_r3.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(item_r3.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", item_r3.price, \" den\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(item_r3.quantity);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\", item_r3.price * item_r3.quantity, \" den\");\n  }\n}\nfunction CartComponent_Conditional_6_Conditional_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 9);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" Add \", 2000 - ctx_r3.getSubtotal(), \" den more for free delivery! \");\n  }\n}\nfunction CartComponent_Conditional_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 5);\n    i0.ɵɵrepeaterCreate(1, CartComponent_Conditional_6_For_2_Template, 19, 6, \"div\", 6, _forTrack0);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 7)(4, \"div\", 8)(5, \"span\");\n    i0.ɵɵtext(6, \"Subtotal:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"strong\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 8)(10, \"span\");\n    i0.ɵɵtext(11, \"Delivery:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"strong\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(14, CartComponent_Conditional_6_Conditional_14_Template, 2, 1, \"p\", 9);\n    i0.ɵɵelementStart(15, \"div\", 10)(16, \"span\")(17, \"strong\");\n    i0.ɵɵtext(18, \"Total:\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(19, \"strong\", 11);\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(21, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function CartComponent_Conditional_6_Template_button_click_21_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.checkout());\n    });\n    i0.ɵɵtext(22, \" Proceed to Checkout \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵrepeater(ctx_r3.cartItems);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r3.getSubtotal(), \" den\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r3.getDeliveryFee() === 0 ? \"FREE\" : ctx_r3.getDeliveryFee() + \" den\");\n    i0.ɵɵadvance();\n    i0.ɵɵconditional(14, ctx_r3.getSubtotal() < 2000 ? 14 : -1);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r3.getTotal(), \" den\");\n  }\n}\nexport class CartComponent {\n  constructor() {\n    this.cartService = inject(CartService);\n    this.toastService = inject(ToastService);\n    this.router = inject(Router);\n    this.cartItems = [];\n  }\n  ngOnInit() {\n    this.loadCart();\n  }\n  loadCart() {\n    this.cartService.getAll().subscribe({\n      next: items => {\n        this.cartItems = items;\n      },\n      error: error => {\n        console.error('Error loading cart:', error);\n        this.toastService.show('Error loading cart');\n      }\n    });\n  }\n  updateQuantity(item, change) {\n    const newQuantity = item.quantity + change;\n    if (newQuantity <= 0) {\n      this.removeItem(item);\n      return;\n    }\n    if (item.id) {\n      this.cartService.update(item.id, {\n        ...item,\n        quantity: newQuantity\n      }).subscribe({\n        next: () => {\n          this.loadCart();\n        }\n      });\n    }\n  }\n  removeItem(item) {\n    if (item.id) {\n      this.cartService.delete(item.id).subscribe({\n        next: () => {\n          this.loadCart();\n          this.toastService.show('Item removed');\n        }\n      });\n    }\n  }\n  getSubtotal() {\n    return this.cartItems.reduce((sum, item) => sum + item.price * item.quantity, 0);\n  }\n  getDeliveryFee() {\n    return this.getSubtotal() >= 2000 ? 0 : 150;\n  }\n  getTotal() {\n    return this.getSubtotal() + this.getDeliveryFee();\n  }\n  checkout() {\n    if (confirm('Confirm your order?')) {\n      this.cartService.clear().subscribe({\n        next: () => {\n          this.toastService.show('Order placed successfully! ✨');\n          setTimeout(() => {\n            this.router.navigate(['/']);\n          }, 1500);\n        }\n      });\n    }\n  }\n  static {\n    this.ɵfac = function CartComponent_Factory(t) {\n      return new (t || CartComponent)();\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: CartComponent,\n      selectors: [[\"app-cart\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 7,\n      vars: 1,\n      consts: [[1, \"section\"], [1, \"container\", 2, \"max-width\", \"900px\"], [2, \"text-align\", \"center\", \"padding\", \"60px 20px\"], [1, \"muted\", 2, \"font-size\", \"18px\", \"margin-bottom\", \"24px\"], [\"routerLink\", \"/\", 1, \"btn\"], [1, \"cart-items\"], [1, \"cart-item\"], [1, \"cart-summary\"], [1, \"summary-row\"], [1, \"muted\", 2, \"font-size\", \"14px\", \"text-align\", \"center\", \"margin\", \"12px 0\"], [1, \"summary-row\", 2, \"border-top\", \"2px solid #ffc6dd\", \"padding-top\", \"16px\", \"margin-top\", \"16px\"], [2, \"font-size\", \"24px\", \"color\", \"#ff1493\"], [1, \"btn\", 2, \"width\", \"100%\", \"margin-top\", \"24px\", 3, \"click\"], [1, \"cart-item__image\", 3, \"src\", \"alt\"], [1, \"cart-item__details\"], [1, \"muted\"], [1, \"cart-item__quantity\"], [1, \"btn\", \"btn--ghost\", 3, \"click\"], [1, \"cart-item__total\"]],\n      template: function CartComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"main\")(1, \"section\", 0)(2, \"div\", 1)(3, \"h1\");\n          i0.ɵɵtext(4, \"Shopping Cart\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(5, CartComponent_Conditional_5_Template, 5, 0, \"div\", 2)(6, CartComponent_Conditional_6_Template, 23, 4);\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(5);\n          i0.ɵɵconditional(5, ctx.cartItems.length === 0 ? 5 : 6);\n        }\n      },\n      dependencies: [CommonModule, RouterLink],\n      styles: [\".cart-items[_ngcontent-%COMP%] {\\n      margin-bottom: 32px;\\n    }\\n    .cart-item[_ngcontent-%COMP%] {\\n      display: flex;\\n      align-items: center;\\n      gap: 16px;\\n      padding: 16px;\\n      background: white;\\n      border-radius: 12px;\\n      margin-bottom: 16px;\\n      border: 1px solid #ffc6dd;\\n    }\\n    .cart-item__image[_ngcontent-%COMP%] {\\n      width: 80px;\\n      height: 80px;\\n      object-fit: contain;\\n      background: white;\\n      border-radius: 8px;\\n    }\\n    .cart-item__details[_ngcontent-%COMP%] {\\n      flex: 1;\\n    }\\n    .cart-item__quantity[_ngcontent-%COMP%] {\\n      display: flex;\\n      align-items: center;\\n      gap: 12px;\\n    }\\n    .cart-item__quantity[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n      width: 32px;\\n      height: 32px;\\n      padding: 0;\\n      display: flex;\\n      align-items: center;\\n      justify-content: center;\\n    }\\n    .cart-item__total[_ngcontent-%COMP%] {\\n      min-width: 100px;\\n      text-align: right;\\n    }\\n    .cart-summary[_ngcontent-%COMP%] {\\n      background: white;\\n      padding: 24px;\\n      border-radius: 12px;\\n      border: 1px solid #ffc6dd;\\n    }\\n    .summary-row[_ngcontent-%COMP%] {\\n      display: flex;\\n      justify-content: space-between;\\n      margin-bottom: 12px;\\n    }\\n  \\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvY2FydC9jYXJ0LmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0lBQ0k7TUFDRSxtQkFBbUI7SUFDckI7SUFDQTtNQUNFLGFBQWE7TUFDYixtQkFBbUI7TUFDbkIsU0FBUztNQUNULGFBQWE7TUFDYixpQkFBaUI7TUFDakIsbUJBQW1CO01BQ25CLG1CQUFtQjtNQUNuQix5QkFBeUI7SUFDM0I7SUFDQTtNQUNFLFdBQVc7TUFDWCxZQUFZO01BQ1osbUJBQW1CO01BQ25CLGlCQUFpQjtNQUNqQixrQkFBa0I7SUFDcEI7SUFDQTtNQUNFLE9BQU87SUFDVDtJQUNBO01BQ0UsYUFBYTtNQUNiLG1CQUFtQjtNQUNuQixTQUFTO0lBQ1g7SUFDQTtNQUNFLFdBQVc7TUFDWCxZQUFZO01BQ1osVUFBVTtNQUNWLGFBQWE7TUFDYixtQkFBbUI7TUFDbkIsdUJBQXVCO0lBQ3pCO0lBQ0E7TUFDRSxnQkFBZ0I7TUFDaEIsaUJBQWlCO0lBQ25CO0lBQ0E7TUFDRSxpQkFBaUI7TUFDakIsYUFBYTtNQUNiLG1CQUFtQjtNQUNuQix5QkFBeUI7SUFDM0I7SUFDQTtNQUNFLGFBQWE7TUFDYiw4QkFBOEI7TUFDOUIsbUJBQW1CO0lBQ3JCIiwic291cmNlc0NvbnRlbnQiOlsiXG4gICAgLmNhcnQtaXRlbXMge1xuICAgICAgbWFyZ2luLWJvdHRvbTogMzJweDtcbiAgICB9XG4gICAgLmNhcnQtaXRlbSB7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgIGdhcDogMTZweDtcbiAgICAgIHBhZGRpbmc6IDE2cHg7XG4gICAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDEycHg7XG4gICAgICBtYXJnaW4tYm90dG9tOiAxNnB4O1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgI2ZmYzZkZDtcbiAgICB9XG4gICAgLmNhcnQtaXRlbV9faW1hZ2Uge1xuICAgICAgd2lkdGg6IDgwcHg7XG4gICAgICBoZWlnaHQ6IDgwcHg7XG4gICAgICBvYmplY3QtZml0OiBjb250YWluO1xuICAgICAgYmFja2dyb3VuZDogd2hpdGU7XG4gICAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgfVxuICAgIC5jYXJ0LWl0ZW1fX2RldGFpbHMge1xuICAgICAgZmxleDogMTtcbiAgICB9XG4gICAgLmNhcnQtaXRlbV9fcXVhbnRpdHkge1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICBnYXA6IDEycHg7XG4gICAgfVxuICAgIC5jYXJ0LWl0ZW1fX3F1YW50aXR5IGJ1dHRvbiB7XG4gICAgICB3aWR0aDogMzJweDtcbiAgICAgIGhlaWdodDogMzJweDtcbiAgICAgIHBhZGRpbmc6IDA7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIH1cbiAgICAuY2FydC1pdGVtX190b3RhbCB7XG4gICAgICBtaW4td2lkdGg6IDEwMHB4O1xuICAgICAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gICAgfVxuICAgIC5jYXJ0LXN1bW1hcnkge1xuICAgICAgYmFja2dyb3VuZDogd2hpdGU7XG4gICAgICBwYWRkaW5nOiAyNHB4O1xuICAgICAgYm9yZGVyLXJhZGl1czogMTJweDtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNmZmM2ZGQ7XG4gICAgfVxuICAgIC5zdW1tYXJ5LXJvdyB7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgICAgbWFyZ2luLWJvdHRvbTogMTJweDtcbiAgICB9XG4gICJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"names":["inject","CommonModule","Router","RouterLink","CartService","ToastService","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵlistener","CartComponent_Conditional_6_For_2_Template_button_click_8_listener","item_r3","ɵɵrestoreView","_r2","$implicit","ctx_r3","ɵɵnextContext","ɵɵresetView","updateQuantity","CartComponent_Conditional_6_For_2_Template_button_click_12_listener","CartComponent_Conditional_6_For_2_Template_button_click_17_listener","removeItem","ɵɵadvance","ɵɵproperty","image","ɵɵsanitizeUrl","name","ɵɵtextInterpolate","ɵɵtextInterpolate1","price","quantity","getSubtotal","ɵɵrepeaterCreate","CartComponent_Conditional_6_For_2_Template","_forTrack0","ɵɵtemplate","CartComponent_Conditional_6_Conditional_14_Template","CartComponent_Conditional_6_Template_button_click_21_listener","_r1","checkout","ɵɵrepeater","cartItems","getDeliveryFee","ɵɵconditional","getTotal","CartComponent","constructor","cartService","toastService","router","ngOnInit","loadCart","getAll","subscribe","next","items","error","console","show","item","change","newQuantity","id","update","delete","reduce","sum","confirm","clear","setTimeout","navigate","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","CartComponent_Template","rf","ctx","CartComponent_Conditional_5_Template","CartComponent_Conditional_6_Template","length","styles"],"sources":["C:\\Users\\SMK\\OneDrive\\Desktop\\internet pr\\src\\app\\pages\\cart\\cart.component.ts"],"sourcesContent":["import { Component, inject, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Router, RouterLink } from '@angular/router';\nimport { CartService } from '../../services/cart.service';\nimport { ToastService } from '../../services/toast.service';\nimport { CartItem } from '../../models/cart-item.model';\n\n@Component({\n  selector: 'app-cart',\n  standalone: true,\n  imports: [CommonModule, RouterLink],\n  template: `\n    <main>\n      <section class=\"section\">\n        <div class=\"container\" style=\"max-width: 900px;\">\n          <h1>Shopping Cart</h1>\n\n          @if (cartItems.length === 0) {\n            <div style=\"text-align: center; padding: 60px 20px;\">\n              <p class=\"muted\" style=\"font-size: 18px; margin-bottom: 24px;\">\n                Your cart is empty\n              </p>\n              <a routerLink=\"/\" class=\"btn\">Continue Shopping</a>\n            </div>\n          } @else {\n            <div class=\"cart-items\">\n              @for (item of cartItems; track item.id) {\n                <div class=\"cart-item\">\n                  <img [src]=\"item.image\" [alt]=\"item.name\" class=\"cart-item__image\" />\n                  <div class=\"cart-item__details\">\n                    <h3>{{ item.name }}</h3>\n                    <p class=\"muted\">{{ item.price }} den</p>\n                  </div>\n                  <div class=\"cart-item__quantity\">\n                    <button (click)=\"updateQuantity(item, -1)\" class=\"btn btn--ghost\">−</button>\n                    <span>{{ item.quantity }}</span>\n                    <button (click)=\"updateQuantity(item, 1)\" class=\"btn btn--ghost\">+</button>\n                  </div>\n                  <div class=\"cart-item__total\">\n                    <strong>{{ item.price * item.quantity }} den</strong>\n                  </div>\n                  <button (click)=\"removeItem(item)\" class=\"btn btn--ghost\">Remove</button>\n                </div>\n              }\n            </div>\n\n            <div class=\"cart-summary\">\n              <div class=\"summary-row\">\n                <span>Subtotal:</span>\n                <strong>{{ getSubtotal() }} den</strong>\n              </div>\n              <div class=\"summary-row\">\n                <span>Delivery:</span>\n                <strong>{{ getDeliveryFee() === 0 ? 'FREE' : getDeliveryFee() + ' den' }}</strong>\n              </div>\n              @if (getSubtotal() < 2000) {\n                <p class=\"muted\" style=\"font-size: 14px; text-align: center; margin: 12px 0;\">\n                  Add {{ 2000 - getSubtotal() }} den more for free delivery!\n                </p>\n              }\n              <div class=\"summary-row\" style=\"border-top: 2px solid #ffc6dd; padding-top: 16px; margin-top: 16px;\">\n                <span><strong>Total:</strong></span>\n                <strong style=\"font-size: 24px; color: #ff1493;\">{{ getTotal() }} den</strong>\n              </div>\n\n              <button (click)=\"checkout()\" class=\"btn\" style=\"width: 100%; margin-top: 24px;\">\n                Proceed to Checkout\n              </button>\n            </div>\n          }\n        </div>\n      </section>\n    </main>\n  `,\n  styles: [`\n    .cart-items {\n      margin-bottom: 32px;\n    }\n    .cart-item {\n      display: flex;\n      align-items: center;\n      gap: 16px;\n      padding: 16px;\n      background: white;\n      border-radius: 12px;\n      margin-bottom: 16px;\n      border: 1px solid #ffc6dd;\n    }\n    .cart-item__image {\n      width: 80px;\n      height: 80px;\n      object-fit: contain;\n      background: white;\n      border-radius: 8px;\n    }\n    .cart-item__details {\n      flex: 1;\n    }\n    .cart-item__quantity {\n      display: flex;\n      align-items: center;\n      gap: 12px;\n    }\n    .cart-item__quantity button {\n      width: 32px;\n      height: 32px;\n      padding: 0;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    }\n    .cart-item__total {\n      min-width: 100px;\n      text-align: right;\n    }\n    .cart-summary {\n      background: white;\n      padding: 24px;\n      border-radius: 12px;\n      border: 1px solid #ffc6dd;\n    }\n    .summary-row {\n      display: flex;\n      justify-content: space-between;\n      margin-bottom: 12px;\n    }\n  `]\n})\nexport class CartComponent implements OnInit {\n  private cartService = inject(CartService);\n  private toastService = inject(ToastService);\n  private router = inject(Router);\n\n  cartItems: CartItem[] = [];\n\n  ngOnInit(): void {\n    this.loadCart();\n  }\n\n  loadCart(): void {\n    this.cartService.getAll().subscribe({\n      next: (items) => {\n        this.cartItems = items;\n      },\n      error: (error) => {\n        console.error('Error loading cart:', error);\n        this.toastService.show('Error loading cart');\n      }\n    });\n  }\n\n  updateQuantity(item: CartItem, change: number): void {\n    const newQuantity = item.quantity + change;\n\n    if (newQuantity <= 0) {\n      this.removeItem(item);\n      return;\n    }\n\n    if (item.id) {\n      this.cartService.update(item.id, { ...item, quantity: newQuantity }).subscribe({\n        next: () => {\n          this.loadCart();\n        }\n      });\n    }\n  }\n\n  removeItem(item: CartItem): void {\n    if (item.id) {\n      this.cartService.delete(item.id).subscribe({\n        next: () => {\n          this.loadCart();\n          this.toastService.show('Item removed');\n        }\n      });\n    }\n  }\n\n  getSubtotal(): number {\n    return this.cartItems.reduce((sum, item) => sum + (item.price * item.quantity), 0);\n  }\n\n  getDeliveryFee(): number {\n    return this.getSubtotal() >= 2000 ? 0 : 150;\n  }\n\n  getTotal(): number {\n    return this.getSubtotal() + this.getDeliveryFee();\n  }\n\n  checkout(): void {\n    if (confirm('Confirm your order?')) {\n      this.cartService.clear().subscribe({\n        next: () => {\n          this.toastService.show('Order placed successfully! ✨');\n          setTimeout(() => {\n            this.router.navigate(['/']);\n          }, 1500);\n        }\n      });\n    }\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}