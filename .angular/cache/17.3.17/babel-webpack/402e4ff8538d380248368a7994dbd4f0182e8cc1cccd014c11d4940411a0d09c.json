{"ast":null,"code":"import { inject, signal } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { tap } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nexport class WishlistService {\n  constructor() {\n    this.http = inject(HttpClient);\n    this.apiUrl = 'http://localhost:3000/wishlist';\n    // Signal for reactive wishlist count\n    this.wishlistCount = signal(0);\n  }\n  getAll() {\n    return this.http.get(this.apiUrl).pipe(tap(items => this.wishlistCount.set(items.length)));\n  }\n  add(item) {\n    return this.http.post(this.apiUrl, item).pipe(tap(() => this.updateWishlistCount()));\n  }\n  delete(id) {\n    return this.http.delete(`${this.apiUrl}/${id}`).pipe(tap(() => this.updateWishlistCount()));\n  }\n  isInWishlist(productId) {\n    return this.http.get(`${this.apiUrl}?productId=${productId}`);\n  }\n  updateWishlistCount() {\n    this.getAll().subscribe();\n  }\n  static {\n    this.ɵfac = function WishlistService_Factory(t) {\n      return new (t || WishlistService)();\n    };\n  }\n  static {\n    this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: WishlistService,\n      factory: WishlistService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n}","map":{"version":3,"names":["inject","signal","HttpClient","tap","WishlistService","constructor","http","apiUrl","wishlistCount","getAll","get","pipe","items","set","length","add","item","post","updateWishlistCount","delete","id","isInWishlist","productId","subscribe","factory","ɵfac","providedIn"],"sources":["C:\\Users\\SMK\\OneDrive\\Desktop\\internet pr\\src\\app\\services\\wishlist.service.ts"],"sourcesContent":["import { Injectable, inject, signal } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { tap } from 'rxjs/operators';\nimport { WishlistItem } from '../models/wishlist-item.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class WishlistService {\n  private http = inject(HttpClient);\n  private apiUrl = 'http://localhost:3000/wishlist';\n\n  // Signal for reactive wishlist count\n  wishlistCount = signal<number>(0);\n\n  getAll(): Observable<WishlistItem[]> {\n    return this.http.get<WishlistItem[]>(this.apiUrl).pipe(\n      tap(items => this.wishlistCount.set(items.length))\n    );\n  }\n\n  add(item: WishlistItem): Observable<WishlistItem> {\n    return this.http.post<WishlistItem>(this.apiUrl, item).pipe(\n      tap(() => this.updateWishlistCount())\n    );\n  }\n\n  delete(id: number): Observable<void> {\n    return this.http.delete<void>(`${this.apiUrl}/${id}`).pipe(\n      tap(() => this.updateWishlistCount())\n    );\n  }\n\n  isInWishlist(productId: number): Observable<WishlistItem[]> {\n    return this.http.get<WishlistItem[]>(`${this.apiUrl}?productId=${productId}`);\n  }\n\n  private updateWishlistCount(): void {\n    this.getAll().subscribe();\n  }\n}\n"],"mappings":"AAAA,SAAqBA,MAAM,EAAEC,MAAM,QAAQ,eAAe;AAC1D,SAASC,UAAU,QAAQ,sBAAsB;AAEjD,SAASC,GAAG,QAAQ,gBAAgB;;AAMpC,OAAM,MAAOC,eAAe;EAH5BC,YAAA;IAIU,KAAAC,IAAI,GAAGN,MAAM,CAACE,UAAU,CAAC;IACzB,KAAAK,MAAM,GAAG,gCAAgC;IAEjD;IACA,KAAAC,aAAa,GAAGP,MAAM,CAAS,CAAC,CAAC;;EAEjCQ,MAAMA,CAAA;IACJ,OAAO,IAAI,CAACH,IAAI,CAACI,GAAG,CAAiB,IAAI,CAACH,MAAM,CAAC,CAACI,IAAI,CACpDR,GAAG,CAACS,KAAK,IAAI,IAAI,CAACJ,aAAa,CAACK,GAAG,CAACD,KAAK,CAACE,MAAM,CAAC,CAAC,CACnD;EACH;EAEAC,GAAGA,CAACC,IAAkB;IACpB,OAAO,IAAI,CAACV,IAAI,CAACW,IAAI,CAAe,IAAI,CAACV,MAAM,EAAES,IAAI,CAAC,CAACL,IAAI,CACzDR,GAAG,CAAC,MAAM,IAAI,CAACe,mBAAmB,EAAE,CAAC,CACtC;EACH;EAEAC,MAAMA,CAACC,EAAU;IACf,OAAO,IAAI,CAACd,IAAI,CAACa,MAAM,CAAO,GAAG,IAAI,CAACZ,MAAM,IAAIa,EAAE,EAAE,CAAC,CAACT,IAAI,CACxDR,GAAG,CAAC,MAAM,IAAI,CAACe,mBAAmB,EAAE,CAAC,CACtC;EACH;EAEAG,YAAYA,CAACC,SAAiB;IAC5B,OAAO,IAAI,CAAChB,IAAI,CAACI,GAAG,CAAiB,GAAG,IAAI,CAACH,MAAM,cAAce,SAAS,EAAE,CAAC;EAC/E;EAEQJ,mBAAmBA,CAAA;IACzB,IAAI,CAACT,MAAM,EAAE,CAACc,SAAS,EAAE;EAC3B;;;uBA/BWnB,eAAe;IAAA;EAAA;;;aAAfA,eAAe;MAAAoB,OAAA,EAAfpB,eAAe,CAAAqB,IAAA;MAAAC,UAAA,EAFd;IAAM;EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}