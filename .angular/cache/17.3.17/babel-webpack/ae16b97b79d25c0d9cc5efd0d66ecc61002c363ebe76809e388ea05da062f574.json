{"ast":null,"code":"import { inject } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterLink } from '@angular/router';\nimport { WishlistService } from '../../services/wishlist.service';\nimport { CartService } from '../../services/cart.service';\nimport { ToastService } from '../../services/toast.service';\nimport * as i0 from \"@angular/core\";\nconst _forTrack0 = ($index, $item) => $item.id;\nfunction WishlistComponent_Conditional_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"p\", 3);\n    i0.ɵɵtext(2, \" Your wishlist is empty \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"a\", 4);\n    i0.ɵɵtext(4, \"Browse Products\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction WishlistComponent_Conditional_6_For_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"article\", 6)(1, \"div\", 7);\n    i0.ɵɵelement(2, \"img\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 9)(4, \"h3\", 10);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\", 11);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 12)(9, \"span\", 13);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\", 14)(12, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function WishlistComponent_Conditional_6_For_2_Template_button_click_12_listener() {\n      const item_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.moveToCart(item_r2));\n    });\n    i0.ɵɵtext(13, \"Add to Cart\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function WishlistComponent_Conditional_6_For_2_Template_button_click_14_listener() {\n      const item_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.removeItem(item_r2));\n    });\n    i0.ɵɵtext(15, \"Remove\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const item_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", item_r2.image, i0.ɵɵsanitizeUrl)(\"alt\", item_r2.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(item_r2.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r2.brand);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", item_r2.price, \" den\");\n  }\n}\nfunction WishlistComponent_Conditional_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 5);\n    i0.ɵɵrepeaterCreate(1, WishlistComponent_Conditional_6_For_2_Template, 16, 5, \"article\", 6, _forTrack0);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵrepeater(ctx_r2.wishlistItems);\n  }\n}\nexport class WishlistComponent {\n  constructor() {\n    this.wishlistService = inject(WishlistService);\n    this.cartService = inject(CartService);\n    this.toastService = inject(ToastService);\n    this.wishlistItems = [];\n  }\n  ngOnInit() {\n    this.loadWishlist();\n  }\n  loadWishlist() {\n    this.wishlistService.getAll().subscribe({\n      next: items => {\n        this.wishlistItems = items;\n      },\n      error: error => {\n        console.error('Error loading wishlist:', error);\n        this.toastService.show('Error loading wishlist');\n      }\n    });\n  }\n  moveToCart(item) {\n    this.cartService.add({\n      productId: item.productId,\n      name: item.name,\n      price: item.price,\n      image: item.image,\n      quantity: 1\n    }).subscribe({\n      next: () => {\n        this.toastService.show('Added to cart ✓');\n      }\n    });\n  }\n  removeItem(item) {\n    if (item.id) {\n      this.wishlistService.delete(item.id).subscribe({\n        next: () => {\n          this.loadWishlist();\n          this.toastService.show('Removed from wishlist');\n        }\n      });\n    }\n  }\n  static {\n    this.ɵfac = function WishlistComponent_Factory(t) {\n      return new (t || WishlistComponent)();\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: WishlistComponent,\n      selectors: [[\"app-wishlist\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 7,\n      vars: 1,\n      consts: [[1, \"section\"], [1, \"container\"], [2, \"text-align\", \"center\", \"padding\", \"60px 20px\"], [1, \"muted\", 2, \"font-size\", \"18px\", \"margin-bottom\", \"24px\"], [\"routerLink\", \"/\", 1, \"btn\"], [1, \"grid\", \"grid--products\"], [1, \"card\", \"card--product\"], [1, \"card__media\"], [2, \"width\", \"100%\", \"height\", \"200px\", \"object-fit\", \"contain\", \"background\", \"white\", 3, \"src\", \"alt\"], [1, \"card__body\"], [1, \"product__title\"], [1, \"muted\"], [1, \"product__meta\"], [1, \"price\"], [1, \"product__actions\"], [1, \"btn\", \"btn--ghost\", 3, \"click\"]],\n      template: function WishlistComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"main\")(1, \"section\", 0)(2, \"div\", 1)(3, \"h1\");\n          i0.ɵɵtext(4, \"My Wishlist\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(5, WishlistComponent_Conditional_5_Template, 5, 0, \"div\", 2)(6, WishlistComponent_Conditional_6_Template, 3, 0);\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(5);\n          i0.ɵɵconditional(5, ctx.wishlistItems.length === 0 ? 5 : 6);\n        }\n      },\n      dependencies: [CommonModule, RouterLink],\n      encapsulation: 2\n    });\n  }\n}","map":{"version":3,"names":["inject","CommonModule","RouterLink","WishlistService","CartService","ToastService","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵlistener","WishlistComponent_Conditional_6_For_2_Template_button_click_12_listener","item_r2","ɵɵrestoreView","_r1","$implicit","ctx_r2","ɵɵnextContext","ɵɵresetView","moveToCart","WishlistComponent_Conditional_6_For_2_Template_button_click_14_listener","removeItem","ɵɵadvance","ɵɵproperty","image","ɵɵsanitizeUrl","name","ɵɵtextInterpolate","brand","ɵɵtextInterpolate1","price","ɵɵrepeaterCreate","WishlistComponent_Conditional_6_For_2_Template","_forTrack0","ɵɵrepeater","wishlistItems","WishlistComponent","constructor","wishlistService","cartService","toastService","ngOnInit","loadWishlist","getAll","subscribe","next","items","error","console","show","item","add","productId","quantity","id","delete","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","WishlistComponent_Template","rf","ctx","ɵɵtemplate","WishlistComponent_Conditional_5_Template","WishlistComponent_Conditional_6_Template","ɵɵconditional","length","encapsulation"],"sources":["C:\\Users\\SMK\\OneDrive\\Desktop\\internet pr\\src\\app\\pages\\wishlist\\wishlist.component.ts"],"sourcesContent":["import { Component, inject, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterLink } from '@angular/router';\nimport { WishlistService } from '../../services/wishlist.service';\nimport { CartService } from '../../services/cart.service';\nimport { ToastService } from '../../services/toast.service';\nimport { WishlistItem } from '../../models/wishlist-item.model';\n\n@Component({\n  selector: 'app-wishlist',\n  standalone: true,\n  imports: [CommonModule, RouterLink],\n  template: `\n    <main>\n      <section class=\"section\">\n        <div class=\"container\">\n          <h1>My Wishlist</h1>\n\n          @if (wishlistItems.length === 0) {\n            <div style=\"text-align: center; padding: 60px 20px;\">\n              <p class=\"muted\" style=\"font-size: 18px; margin-bottom: 24px;\">\n                Your wishlist is empty\n              </p>\n              <a routerLink=\"/\" class=\"btn\">Browse Products</a>\n            </div>\n          } @else {\n            <div class=\"grid grid--products\">\n              @for (item of wishlistItems; track item.id) {\n                <article class=\"card card--product\">\n                  <div class=\"card__media\">\n                    <img [src]=\"item.image\" [alt]=\"item.name\" style=\"width: 100%; height: 200px; object-fit: contain; background: white;\" />\n                  </div>\n                  <div class=\"card__body\">\n                    <h3 class=\"product__title\">{{ item.name }}</h3>\n                    <p class=\"muted\">{{ item.brand }}</p>\n                    <div class=\"product__meta\">\n                      <span class=\"price\">{{ item.price }} den</span>\n                    </div>\n                    <div class=\"product__actions\">\n                      <button class=\"btn btn--ghost\" (click)=\"moveToCart(item)\">Add to Cart</button>\n                      <button class=\"btn btn--ghost\" (click)=\"removeItem(item)\">Remove</button>\n                    </div>\n                  </div>\n                </article>\n              }\n            </div>\n          }\n        </div>\n      </section>\n    </main>\n  `\n})\nexport class WishlistComponent implements OnInit {\n  private wishlistService = inject(WishlistService);\n  private cartService = inject(CartService);\n  private toastService = inject(ToastService);\n\n  wishlistItems: WishlistItem[] = [];\n\n  ngOnInit(): void {\n    this.loadWishlist();\n  }\n\n  loadWishlist(): void {\n    this.wishlistService.getAll().subscribe({\n      next: (items) => {\n        this.wishlistItems = items;\n      },\n      error: (error) => {\n        console.error('Error loading wishlist:', error);\n        this.toastService.show('Error loading wishlist');\n      }\n    });\n  }\n\n  moveToCart(item: WishlistItem): void {\n    this.cartService.add({\n      productId: item.productId,\n      name: item.name,\n      price: item.price,\n      image: item.image,\n      quantity: 1\n    }).subscribe({\n      next: () => {\n        this.toastService.show('Added to cart ✓');\n      }\n    });\n  }\n\n  removeItem(item: WishlistItem): void {\n    if (item.id) {\n      this.wishlistService.delete(item.id).subscribe({\n        next: () => {\n          this.loadWishlist();\n          this.toastService.show('Removed from wishlist');\n        }\n      });\n    }\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}